{{define "progress-indicator"}}
<!-- Progress Indicator Component for Multi-Step Processes -->
<div class="progress-indicator-wrapper" role="navigation" aria-label="Progress">
  <div class="progress-indicator">
    <div class="progress-bar-container">
      <div class="progress-bar" style="width: {{.ProgressPercent}}%" role="progressbar" 
           aria-valuenow="{{.CurrentStep}}" aria-valuemin="1" aria-valuemax="{{.TotalSteps}}">
        <span class="sr-only">Step {{.CurrentStep}} of {{.TotalSteps}}</span>
      </div>
    </div>
    
    <ol class="progress-steps">
      {{range $index, $step := .Steps}}
        {{$stepNumber := add $index 1}}
        <li class="progress-step {{if lt $stepNumber $.CurrentStep}}completed{{else if eq $stepNumber $.CurrentStep}}active{{else}}pending{{end}}"
            data-step="{{$stepNumber}}">
          <div class="step-marker">
            {{if lt $stepNumber $.CurrentStep}}
              <i class="bi bi-check-circle-fill" aria-hidden="true"></i>
            {{else if eq $stepNumber $.CurrentStep}}
              <span class="step-number">{{$stepNumber}}</span>
            {{else}}
              <span class="step-number">{{$stepNumber}}</span>
            {{end}}
          </div>
          <div class="step-content">
            <div class="step-title">{{$step.Title}}</div>
            {{if $step.Description}}
              <div class="step-description">{{$step.Description}}</div>
            {{end}}
          </div>
        </li>
      {{end}}
    </ol>
  </div>
  
  {{if .ShowNavigation}}
  <div class="progress-navigation">
    {{if gt .CurrentStep 1}}
      <button type="button" class="btn btn-secondary btn-lg" onclick="{{.PreviousAction}}">
        <i class="bi bi-arrow-left-circle" aria-hidden="true"></i>
        Previous Step
      </button>
    {{else}}
      <div></div>
    {{end}}
    
    <div class="progress-info">
      <span class="progress-text">Step {{.CurrentStep}} of {{.TotalSteps}}</span>
      <span class="progress-percentage">{{.ProgressPercent}}% Complete</span>
    </div>
    
    {{if lt .CurrentStep .TotalSteps}}
      <button type="button" class="btn btn-primary btn-lg" onclick="{{.NextAction}}">
        Next Step
        <i class="bi bi-arrow-right-circle" aria-hidden="true"></i>
      </button>
    {{else}}
      <button type="button" class="btn btn-success btn-lg" onclick="{{.CompleteAction}}">
        <i class="bi bi-check-circle-fill" aria-hidden="true"></i>
        Complete
      </button>
    {{end}}
  </div>
  {{end}}
</div>


{{end}}